# Système d'Activités avec Session et Feedback

## Vue d'ensemble

Ce système permet aux utilisateurs de démarrer des activités (sport, relaxation, etc.), de les suivre en temps réel, puis de donner un feedback détaillé qui est sauvegardé en base de données.

## Fonctionnalités

### 1. Page des Activités (`/pages/activities.tsx`)
- Liste paginée de toutes les activités disponibles
- Cartes d'activités cliquables avec effet hover
- Navigation par pagination

### 2. Modal de Détails d'Activité (`ActivityDetailsModal`)
- Affichage complet des informations de l'activité
- Description, durée, difficulté, bienfaits
- Conseils et ressources
- Bouton pour démarrer l'activité

### 3. Session d'Activité (`ActivitySession`)
- Timer en temps réel avec indicateur de progression circulaire
- Contrôles : Pause/Reprendre, Arrêter, Terminé
- Affichage des ressources pendant l'activité
- Conseils aléatoires pour motiver l'utilisateur

### 4. Questionnaire de Feedback (`ActivityFeedbackModal`)
- Interface en 3 étapes avec barre de progression
- **Étape 1** : État AVANT l'activité (stress, énergie, humeur)
- **Étape 2** : État APRÈS l'activité (stress, énergie, humeur)
- **Étape 3** : Évaluation de l'activité (difficulté, motivation, douleur, concentration)
- Sliders interactifs avec couleurs personnalisées

### 5. Sauvegarde en Base de Données
- Service dédié (`activityService.ts`) pour sauvegarder les sessions
- Données stockées dans Firestore collection "activitySessions"
- Horodatage automatique et ID utilisateur

## Composants Créés

```
src/
├── components/
│   ├── activity/
│   │   ├── ActivityDetailsModal.tsx
│   │   ├── ActivitySession.tsx
│   │   ├── ActivityFeedbackModal.tsx
│   │   └── index.ts
│   └── Notification.tsx
├── services/
│   └── activityService.ts
├── hooks/
│   └── useAuth.ts
└── pages/
    └── activities.tsx (modifié)
```

## Types de Données

### ActivitySession
```typescript
{
  id: string;
  activityId: string;
  userId: string;
  date: string;
  duration: number;
  feedback: {
    stressBefore: number;
    stressAfter: number;
    energyBefore: number;
    energyAfter: number;
    moodBefore: number;
    moodAfter: number;
    difficulty: number;
    motivation: number;
    pain: number;
    concentration: number;
  };
}
```

## Flux Utilisateur

1. **Sélection** : L'utilisateur clique sur une carte d'activité
2. **Détails** : Modal avec informations complètes de l'activité
3. **Démarrage** : Clic sur "Commencer l'activité"
4. **Session** : Timer en cours avec contrôles disponibles
5. **Completion** : Clic sur "Terminé" 
6. **Feedback** : Questionnaire en 3 étapes
7. **Sauvegarde** : Données enregistrées en base
8. **Notification** : Confirmation de sauvegarde

## Améliorations Futures

- [ ] Authentification Firebase Auth complète
- [ ] Graphiques de progression dans le dashboard
- [ ] Filtres par type d'activité
- [ ] Historique personnel des sessions
- [ ] Badges et achievements
- [ ] Partage social des résultats
- [ ] Rappels et notifications push
- [ ] Mode hors ligne avec sync
